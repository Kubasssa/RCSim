<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="css/style.css?v=" rel="stylesheet" type="text/css" />
    <script src="three/three.js"></script>
    <script src="three/OrbitControls.js"></script>

</head>

<body>
    <div class="main">
        <header>
            <div class="menu">
                <form action="" method="GET">
                    <input type="submit" value="Cube" class="aboutBtn">
                </form>
                <form action="timer" method="POST">
                    <input type="submit" value="timer" class="timesBtn">
                </form>
            </div>
            <div class="cubeIcon">
                <img class="cb" src="public/cubePics/cb.png" alt="empty">
                <img class="cbSG" src="public/cubePics/cbSolvedGreen.png" alt="empty">
                <img class="cbSR" src="public/cubePics/cbSolvedRed.png" alt="empty">
                <img class="cbSY" src="public/cubePics/cbSolvedYellow.png" alt="empty">
            </div>
            <div class="profile">
                <span class="profile__username"><%= login%></span>
                <form action="logout" method="GET">
                    <input type="submit" value="logout" class="profile__logout">
                </form>
                <!-- <span class="profile__logout">logout</span> -->
                <img class="profile__avatar" src="/public/cubePics/goku.jpg"></img>
            </div>
        </header>
        <section class="mainSection">
            <section class="mainContentSection">
                <span class="src">Press [space] to start</span>
                <div class="display" data-mode='solver'>00:00</div>
                <div class="cubeContainer"></div>
                <button class="autoSolve">Auto Solve</button>
                <input type="checkbox" class="themeSwitch" id="switch" checked /><label for="switch">Toggle</label>
            </section>
            <section class="statsTimesSection">
                <div class="statsTable">
                    <!-- <button id="3" class="statsButton"></button> -->
                    <div class="mainStats">
                        <div>Number of times: <span>0</span> </div>
                        <div>best: <span>0.00</span></div>
                        <div>worst: <span>0.00</span></div>
                        <div>avg5: <span>0.00</span></div>
                        <div>avg12: <span>0.00</span></div>
                        <div>avg100: <span>0.00</span></div>
                        <br>
                    </div>
                </div>
                <div class="timeTable">
                    <input type="submit" class="resetButton" value="Reset" name="submit">
                    <div class="timesContainer">
                        <% for(let i=0; i < timesArray.length; i++) { %>
                        <div class="time"><%= timesArray[i] %></div>
                        <% } %>
                    </div>
                </div>
            </section>
        </section>
    </div>

    <script>
        $(".cb").click(function () {
            let x = Math.floor((Math.random() * 3) + 1);
            if (x == 1) {
                $(".cbSR").toggle();
            } else if (x == 2) {
                $(".cbSG").toggle();
            } else if (x == 3) {
                $(".cbSY").toggle();
            }
            $(".cb").toggle();
        });

        $(".cbSR").click(function () {
            $(".cbSR").toggle();
            $(".cb").toggle();
        });
        $(".cbSG").click(function () {
            $(".cbSG").toggle();
            $(".cb").toggle();
        });
        $(".cbSY").click(function () {
            $(".cbSY").toggle();
            $(".cb").toggle();
        });
    </script>
    <script src="public/js/Timer.js"></script>
    <script src="public/js/scramble.js"></script>
    <script src="public/js/UpdateTimes.js"></script>
    <script src="public/js/StatsCalc.js"></script>
    <script src="public/js/StatsGetSet.js"></script>
    <script src="public/js/DisplayingBests.js"></script>
    <script src="public/js/ConvertTime.js"></script>
    <script src="public/js/Delete.js"></script>
    <script src="public/js/Main.js"></script>
    <script src="public/js/BuildCube.js"></script>
    <script src="public/js/BuildPiece.js"></script>
    <script src="public/js/Movement.js"></script>
    <script src="public/js/KeyControl.js"></script>
    <script src="public/js/AutoSolve.js"></script>
    <script src="public/js/Scene.js"></script>
    <script>
        getFromDB = async () => {
            const response = await fetch('/getTimesFromDB');
        }
        window.onload = getFromDB;
    </script>

</body>

</html>